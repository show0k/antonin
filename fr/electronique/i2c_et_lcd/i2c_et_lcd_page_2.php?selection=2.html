<!DOCTYPE html>
<html lang="fr">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<title>I2C, LCD&nbsp;: Comment piloter un afficheur graphique alphanum&eacute;rique ? - Page 2</title>
<meta name="description" content="I2C, LCD&nbsp;: Sch&eacute;mas et codes sources pour piloter un afficheur graphique alphanum&eacute;rique &agrave; l'aide de circuits int&eacute;gr&eacute;s de type &laquo;&nbsp;MCP23016&nbsp;&raquo; et &laquo;&nbsp;MCP23017&nbsp;&raquo; et d'un microcontr&ocirc;leur." />
<meta name="keywords" content="atrylec electronique i2c lcd mcp23016 pic18f4550 pic 18f4550 realisation realisations schema schemas typon typons code source montage montages langage c adaptation afficheur graphique alphanumerique bus microcontroleur expanseur expanseurs port ports entrees sorties programmation" />
<link rel="stylesheet" media="screen" type="text/css" title="Style 2" href="../../../elements/allures/style_2.css">
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-42331281-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</head>
<body>
<div id="page">
<div id="haut">
<header id="Haut_de_page">
<div id="principale">
<p class="titre_principal_haut">
<a href="../../../index.php.html"><img style="width: 150px;" alt="Affichage_Atrylec_com" src="../../../images/Affichage_Atrylec_com.png" /><span class="invisible">Atrylec</span></a></p>
<p class="sous-titre_haut">Vous n'&ecirc;tes pas seuls dans l'Univers !</p>
</div>
<div id="additionnelle">
</div>
</header>
<nav>
<ul id="navigation">
<li><a href="../../../index.php.html" title="Accueil">Accueil</a></li>
<li><a class="choisi" href="../index.php.html" title="Electronique">Electronique</a></li>
<li><a href="../../radio/index.php%3Fnumero=0.html" title="Radio">Radio</a></li>
<li><a href="../../origami/index.php.html" title="Origami">Origami</a></li>
<li><a href="../../photographies/index.php%3Fnumero=0.html" title="Photographies">Photographies</a></li>
<li><a href="../../le_grenier/index.php.html" title="Le grenier">Le grenier</a></li>
<li><a href="../../contact.php.html" title="ContaCT">ContaCT</a></li>
</ul>
</nav>
</div>
<section>
<div id="titre">
<div id="titre_gauche">
</div>
<div id="titre_image">
<img style="width: 100px; height: 100px;" alt="Transistor_100" src="../../../images/Transistor_100.png">
</div>
<div id="titre_texte">
<p>/&nbsp;</p><h1>I2C, LCD&nbsp;: Piloter un afficheur</h1>
</div>
<div id="titre_droite">
</div>
</div>
<div>
<p id="introduction">Cet article montre comment il est possible de piloter un afficheur LCD graphique alphanum&eacute;rique &agrave; commande parall&egrave;le, gr&acirc;ce &agrave; un bus I2C.<br />
Il est expliqu&eacute;, pour cette deuxi&egrave;me partie, comment on peut s'y prendre en utilisant un circuit int&eacute;gr&eacute; de type &laquo;&nbsp;MCP23016&nbsp;&raquo; ou de type &laquo;&nbsp;MCP23017&nbsp;&raquo;.</p>
</div>
<p>
<a id="Liste_de_depart"></a>
</p>
<div>
<div class="menu_article">
<ul class="menu_article_principal">
<li><a href="i2c_et_lcd_page_1.php.html">I2C, LCD&nbsp;: Comment piloter un afficheur graphique ?</a></li>
<li><ul>
<li><a href="i2c_et_lcd_page_1.php.html">Utilisation des PCF8574</a></li>
<li><a class="choisi" href="i2c_et_lcd_page_2.php.html">Utilisation des MCP23016 et des MCP23017</a></li>
</ul></li>
</ul>
<ul class="menu_article_secondaire">
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_1-0-0">1) Pr&eacute;sentation</a></li>
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_2-0-0">2) Montages utilisant le MCP23016 et le MCP23017</a></li>
<li>
<ul>
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_2-1-0">2-1) Avec un MCP23016</a></li>
<li>
<ul>
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_2-1-1">2-1-1) Vues d'ensembles</a></li>
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_2-1-2">2-1-2) Sch&eacute;ma</a></li>
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_2-1-3">2-1-3) Codes sources</a></li>
</ul>
</li>
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_2-2-0">2-2) Avec un MCP23017</a></li>
<li>
<ul>
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_2-2-1">2-2-1) Vues d'ensembles</a></li>
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_2-2-2">2-2-2) Sch&eacute;ma</a></li>
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_2-2-3">2-2-3) Typon</a></li>
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_2-2-4">2-2-4) Codes sources</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div>
<span style="font-size: 42px; color: rgb(209, 1, 38);"><b>&uarr;</b></span> <a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Haut_de_page">Je veux remonter !</a>&nbsp;|&nbsp;<a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Liste_de_depart">Liste</a>
</div>
<a id="Endroit_1-0-0"></a>
<h2>1) Pr&eacute;sentation</h2>
<p>Les circuits int&eacute;gr&eacute;s envisag&eacute;s ici, qui sont de type &laquo;&nbsp;MCP23016&nbsp;&raquo; et &laquo;&nbsp;MCP23017&nbsp;&raquo;, sont des expanseurs de ports pilot&eacute;es par un bus de type I2C, qui mettent &agrave; disposition 16 broches d'entr&eacute;es - sorties, r&eacute;parties sur deux banques de 8 broches chacune.</p>
<p>L'afficheur alphanum&eacute;rique qui est connect&eacute; &agrave; l'un de ces curcuits int&eacute;gr&eacute;s est utilis&eacute; en mode 8 bits, et des broches de l'expanseur seront disponibles, aussi bien en tant qu'entr&eacute;es logiques qu'en tant que sorties logiques, pour d'autres usages que le pilotage de l'afficheur.</p>
<div>
<span style="font-size: 42px; color: rgb(209, 1, 38);"><b>&uarr;</b></span> <a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Haut_de_page">Je veux remonter !</a>&nbsp;|&nbsp;<a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Liste_de_depart">Liste</a>
</div>
<a id="Endroit_2-0-0"></a>
<h2>2) Montages utilisant le MCP23016 et le MCP23017</h2>
<a id="Endroit_2-1-0"></a>
<h3>2-1) Avec un MCP23016</h3>
<a id="Endroit_2-1-1"></a>
<h4>2-1-1) Vues d'ensembles</h4>
<p>Le montage a &eacute;t&eacute; verifi&eacute; en utilisant deux platines d'exp&eacute;rimentations.</p>
<figure>
<a href="../../../images/Afficheur_et_Tigrou.jpg">
<img alt="Afficheur_et_Tigrou" src="../../../images/Afficheur_et_Tigrou_Petite.jpg">
</a>
<figcaption>Comme l'a tr&egrave;s bien remarqu&eacute; Tigrou, cet ensemble comportant un afficheur &agrave; cristaux liquides graphique alphanum&eacute;rique est pilot&eacute; par un bus I2C</figcaption>
</figure>
<p></p>
<figure>
<a href="../../../images/Vue_d_ensemble.jpg">
<img alt="Vue_d_ensemble" src="../../../images/Vue_d_ensemble_Petite.jpg">
</a>
<figcaption>Vue d'ensemble du dispositif</figcaption>
</figure>
<p></p>
<figure>
<a href="../../../images/Vue_detaillee_microcontroleur.jpg">
<img alt="Vue_detaillee_microcontroleur" src="../../../images/Vue_detaillee_microcontroleur_Petite.jpg">
</a>
<figcaption>D&eacute;tail du microcontr&ocirc;leur&nbsp;: seules deux broches d'entr&eacute;es-sorties sont ici utilis&eacute;es pour commander l'afficheur LCD graphique alphanum&eacute;rique, ces deux broches sont visibles en haut &agrave; gauche, elles sont reli&eacute;es aux deux r&eacute;sistances de tirage vers le haut, de 10 kilo Ohm</figcaption>
</figure>
<p>Les connexions entre l'expanseur de ports pour bus I2C, l'afficheur LCD graphique alphanum&eacute;rique et les 5 LED sont indiqu&eacute;es dans le tableau ci-dessous&nbsp;</p>
<table border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<th>Afficheur LCD et LED</th>
<td>D0</td>
<td>D1</td>
<td>D2</td>
<td>D3</td>
<td>D4</td>
<td>D5</td>
<td>D6</td>
<td>D7</td>
<td>RS</td>
<td>RW</td>
<td>E</td>
<td>LED1</td>
<td>LED2</td>
<td>LED3</td>
<td>LED4</td>
<td>LED5</td>
</tr>
<tr>
<th>MCP23016</th>
<td>GP0.0</td>
<td>GP0.1</td>
<td>GP0.2</td>
<td>GP0.3</td>
<td>GP0.4</td>
<td>GP0.5</td>
<td>GP0.6</td>
<td>GP0.7</td>
<td>GP1.0</td>
<td>GP1.1</td>
<td>GP1.2</td>
<td>GP1.3</td>
<td>GP1.4</td>
<td>GP1.5</td>
<td>GP1.6</td>
<td>GP1.7</td>
</tr>
</tbody>
</table>
<p></p>
<a id="Endroit_2-1-2"></a>
<h4>2-1-2) Sch&eacute;ma</h4>
<figure>
<a href="../../../images/SCHEMA_I2C_ET_LCD_AVEC_UN_MCP23016_ET_UN_PIC18F4550.png">
<img alt="SCHEMA_I2C_ET_LCD_AVEC_UN_MCP23016_ET_UN_PIC18F4550" src="../../../images/SCHEMA_I2C_ET_LCD_AVEC_UN_MCP23016_ET_UN_PIC18F4550_Petite.png">
</a>
<figcaption>Sch&eacute;ma &eacute;lectrique du montage avec un MCP23016</figcaption>
</figure>
<a id="Endroit_2-1-3"></a>
<h4>2-1-3) Codes sources</h4>
<div class="valorisations">
<div class="programmes">
<div class="programmes_gauche">
<img style="width: 32px; height: 32px;" alt="fleche-bas-telecharger-icone-9594-32" src="../../../images/fleche-bas-telecharger-icone-9594-32.png">
</div>
<div class="programmes_droite">
<p>Piloter un afficheur graphique alphanum&eacute;rique avec un MCP23016 et un PIC18F4550&nbsp;: Fichier C<br />
Cible&nbsp;: PIC18F4550<br />Compilateur&nbsp;: MCC18<br />
<a href="../../../elements/allures/valorisations/programmes.php%3Fprogramme=i2c_et_lcd_page_2+1+1">T&eacute;l&eacute;charger le fichier<span>Effectuez un clic droit, puis s&eacute;lectionnez l'option &laquo;&nbsp;Enregistrer la cible du lien sous...&nbsp;&raquo;, pour t&eacute;l&eacute;charger le fichier</span></a> (2.51 Ko)</p><p>Piloter un afficheur graphique alphanum&eacute;rique avec un MCP23016 et un PIC18F4550&nbsp;: Fichier HEX<br />
Cible&nbsp;: PIC18F4550<br />Compilateur&nbsp;: MCC18<br />
<a href="../../../elements/allures/valorisations/programmes.php%3Fprogramme=i2c_et_lcd_page_2+1+2">T&eacute;l&eacute;charger le fichier<span>Effectuez un clic droit, puis s&eacute;lectionnez l'option &laquo;&nbsp;Enregistrer la cible du lien sous...&nbsp;&raquo;, pour t&eacute;l&eacute;charger le fichier</span></a> (2.78 Ko)</p></div>
</div>
</div>
<a id="Endroit_2-2-0"></a>
<h3>2-2) Avec un MCP23017</h3>
<a id="Endroit_2-2-1"></a>
<h4>2-2-1) Vues d'ensembles</h4>
<p>Cet exemple met en &oelig;uvre une carte de d&eacute;veloppement de type &laquo;&nbsp;STM32VLDISCOVERY&nbsp;&raquo;, &eacute;quip&eacute; d'un microcontr&ocirc;leur STM32F100RB.</p>
<figure>
<p></p>
<table border="0" cellpadding="2" cellspacing="1">
<tbody>
<tr>
<td>
<a href="../../../images/I2C_LCD_avec_STM32VLDISCOVERY_1.jpg">
<img alt="I2C_LCD_avec_STM32VLDISCOVERY_1" src="../../../images/I2C_LCD_avec_STM32VLDISCOVERY_1_Petite.jpg">
</a>
</td>
<td>
<a href="../../../images/I2C_LCD_avec_STM32VLDISCOVERY_2.jpg">
<img alt="I2C_LCD_avec_STM32VLDISCOVERY_2" src="../../../images/I2C_LCD_avec_STM32VLDISCOVERY_2_Petite.jpg">
</a>
</td>
<td>
<a href="../../../images/I2C_LCD_avec_STM32VLDISCOVERY_3.jpg">
<img alt="I2C_LCD_avec_STM32VLDISCOVERY_3" src="../../../images/I2C_LCD_avec_STM32VLDISCOVERY_3_Petite.jpg">
</a>
</td>
</tr>
</tbody>
</table>
<p></p>
<figcaption>Les essais avec un expanseur &laquo;&nbsp;MCP23017&nbsp;&raquo; et une carte de d&eacute;veloppement de type &laquo;&nbsp;STM32VLDISCOVERY&nbsp;&raquo;</figcaption>
</figure>
<p>Les connexions entre l'expanseur de ports pour bus I2C et l'afficheur LCD graphique alphanum&eacute;rique sont indiqu&eacute;es dans le tableau ci-dessous&nbsp;:</p>
<p></p>
<table border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<th>Afficheur LCD</th>
<td>D0</td>
<td>D1</td>
<td>D2</td>
<td>D3</td>
<td>D4</td>
<td>D5</td>
<td>D6</td>
<td>D7</td>
<td>RS</td>
<td>RW</td>
<td>E</td>
<td>Inutilis&eacute;e</td>
<td>Inutilis&eacute;e</td>
<td>Inutilis&eacute;e</td>
<td>Inutilis&eacute;e</td>
<td>Inutilis&eacute;e</td>
</tr>
<tr>
<th>MCP23017</th>
<td>GPA7</td>
<td>GPA6</td>
<td>GPA5</td>
<td>GPA4</td>
<td>GPA3</td>
<td>GPA2</td>
<td>GPA1</td>
<td>GPA0</td>
<td>GPB0</td>
<td>GPB1</td>
<td>GPB2</td>
<td>GPB3</td>
<td>GPB4</td>
<td>GPB5</td>
<td>GPB6</td>
<td>GPB7</td>
</tr>
</tbody>
</table>
<p></p>
<a id="Endroit_2-2-2"></a>
<h4>2-2-2) Sch&eacute;ma</h4>
<a id="Endroit_2-2-3"></a>
<h4>2-2-3) Typon</h4>
<a id="Endroit_2-2-4"></a>
<h4>2-2-4) Codes sources</h4>
<p>Les connexions entre le circuit et la carte de d&eacute;veloppement sont indiqu&eacute;es dans le tableau ci-apr&egrave;s.<br />
Les broches &laquo;&nbsp;PB6&nbsp;&raquo; et &laquo;&nbsp;PB7&nbsp;&raquo; sont reli&eacute;es au + 5 volts par des r&eacute;sistances de tirage de 1 kilo Ohm.</p>
<table border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<th>Carte de d&eacute;veloppement &laquo;&nbsp;STM32VLDISCOVERY&nbsp;&raquo;</th>
<td>+5V</td>
<td>0V</td>
<td>PB6</td>
<td>PB7</td>
</tr>
<tr>
<th>Circuit int&eacute;gr&eacute; MCP23017</th>
<td>+5V</td>
<td>0V</td>
<td>SCL</td>
<td>SDA</td>
</tr>
</tbody>
</table>
<p></p>
<div class="valorisations">
<div class="programmes">
<div class="programmes_gauche">
<img style="width: 32px; height: 32px;" alt="fleche-bas-telecharger-icone-9594-32" src="../../../images/fleche-bas-telecharger-icone-9594-32.png">
</div>
<div class="programmes_droite">
<p>Piloter un afficheur graphique alphanum&eacute;rique avec un MCP23017 et un STM32F100RB&nbsp;: Fichier C<br />
Cible&nbsp;: STM32F100RB<br />Compilateur&nbsp;: Keil &micro;Vision4<br />
<a href="../../../elements/allures/valorisations/programmes.php%3Fprogramme=i2c_et_lcd_page_2+2+1">T&eacute;l&eacute;charger le fichier<span>Effectuez un clic droit, puis s&eacute;lectionnez l'option &laquo;&nbsp;Enregistrer la cible du lien sous...&nbsp;&raquo;, pour t&eacute;l&eacute;charger le fichier</span></a> (4.48 Ko)</p></div>
</div>
</div>
<div>
<div class="menu_article">
<ul class="menu_article_principal">
<li><a href="i2c_et_lcd_page_1.php.html">I2C, LCD&nbsp;: Comment piloter un afficheur graphique ?</a></li>
<li><ul>
<li><a href="i2c_et_lcd_page_1.php.html">Utilisation des PCF8574</a></li>
<li><a class="choisi" href="i2c_et_lcd_page_2.php.html">Utilisation des MCP23016 et des MCP23017</a></li>
</ul></li>
</ul>
<ul class="menu_article_secondaire">
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_1-0-0">1) Pr&eacute;sentation</a></li>
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_2-0-0">2) Montages utilisant le MCP23016 et le MCP23017</a></li>
<li>
<ul>
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_2-1-0">2-1) Avec un MCP23016</a></li>
<li>
<ul>
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_2-1-1">2-1-1) Vues d'ensembles</a></li>
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_2-1-2">2-1-2) Sch&eacute;ma</a></li>
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_2-1-3">2-1-3) Codes sources</a></li>
</ul>
</li>
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_2-2-0">2-2) Avec un MCP23017</a></li>
<li>
<ul>
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_2-2-1">2-2-1) Vues d'ensembles</a></li>
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_2-2-2">2-2-2) Sch&eacute;ma</a></li>
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_2-2-3">2-2-3) Typon</a></li>
<li><a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Endroit_2-2-4">2-2-4) Codes sources</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<div class="commentaires"><a id="Endroits_des_commentaires"></a><p class="sous-titre_commentaires">Commentaires (0)</p><p class="sous-titre_ajouts">Ajouter un commentaire</p>
<form id="contact" method="post" action="http://atrylec.com/elements/allures/commentaires/verification.php">
<fieldset>
<legend>
Votre pseudo&nbsp;: 
</legend>
<p>
<label for="pseudo">
Pseudo&nbsp;: 
</label>
<input type="text" id="pseudo" name="pseudo" tabindex="1" required="required">
</p>
</fieldset>
<fieldset>
<legend>
Votre commentaire&nbsp;: 
</legend>
<p>
<label for="commentaire">
Commentaire&nbsp;: 
</label>
<textarea id="commentaire" name="commentaire" tabindex="2" cols="50" rows="2" required="required">
</textarea>
</p>
</fieldset>
<div class="bouton_validation_commentaire">
<input type="submit" name="Poster" value="Poster" />
</div>
</form>
</div><div>
<span style="font-size: 42px; color: rgb(209, 1, 38);"><b>&uarr;</b></span> <a href="i2c_et_lcd_page_2.php%3Fselection=2.html#Haut_de_page">Je veux remonter !</a>
</div>
</section>
<footer>
<div class="liens">
<ul>
<li><a href="../../contact.php.html">ContaCT</a></li>
</ul>
</div>
<div id="choix_style">
<div class="presentation">Ravaler la fa&ccedil;ade&nbsp;:</div>
<a href="i2c_et_lcd_page_2.php%3Fselection=1.html" title="Style 1"><div class="choix choix_bleu">&nbsp;</div></a><div class="choix choix_rouge_choisi">&nbsp;</div><a href="i2c_et_lcd_page_2.php%3Fselection=3.html" title="Style 3"><div class="choix choix_orange">&nbsp;</div></a></div>
<div class="remarques">
<p>Il ne faut pas dire&nbsp;: &laquo;&nbsp;Un pot de fleurs
&nbsp;&raquo;, mais&nbsp;: &laquo;&nbsp;Un support tulipes
&nbsp;&raquo;.</p>
</div>
<div class="visites">
<img style="width: 15px; height: 15px;" alt="6_30" src="../../../images/6_30.png">   <img style="width: 15px; height: 15px;" alt="5_30" src="../../../images/5_30.png">   <img style="width: 15px; height: 15px;" alt="0_30" src="../../../images/0_30.png">   <img style="width: 15px; height: 15px;" alt="9_30" src="../../../images/9_30.png">   <img style="width: 15px; height: 15px;" alt="9_30" src="../../../images/9_30.png">   </div>
</footer>
</div>
</body>
</html>
